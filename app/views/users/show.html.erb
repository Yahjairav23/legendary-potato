<h1><%=@user.name%></h1>
<div>Age: <%=@user.age%></div>
<div>Bio:</div>
<div><%=@user.bio%></div>


<%if @user.team != nil%>
<br><h4>Team: <%=link_to @user.team.name, team_path(@user.team)%></h4>
<%end%>


<table>
    <thead>
        <tr>
            <th>Project Name</th>
            <th>Task Description</th>
            <th>Task Due Date</th>
            <th>Task Status</th>
        </tr>
    </thead>
    
    <tbody>
        <%@user.assigned_tasks.each do |task|%>
        <tr>
            
            <td><%=link_to task.project.name, project_path(task.project)%></td>
            <td><%=link_to task.description, task_path(task)%></td>
            <td><%=task.due_date%></td>
            <td><%=task.status%></td>
            <td><%=link_to "Edit Task", edit_task_path(task)%></td>
            <td><%=link_to "Delete Task", task_path(task), :method => :delete%></td>
            
        </tr>
        <%end%>
    </tbody>
</table>
<br>
<h4>Create A New Task</h4>
<%= form_for @task do |f| %>
    <%= f.label :description %>
    <%= f.text_field :description %>

    <%= f.label :due_date %>
    <%= f.date_field :due_date %>

    <%= f.label :project %>
    <%= f.collection_select(:project_id, Project.all, :id, :name, { include_blank: true}) %>

    <%= f.label :assigned_to, "Assign to" %>
    <%= f.collection_select(:assignee_id, User.all, :id, :name) %>

    <%= f.label :priority %>
    <%= f.select :priority, options_for_select([ "LOW", "MEDIUM", "HIGH"]) %>

    <%= f.label :status %>
    <%= f.select :status, options_for_select(["Planned", "In Progress", "Complete"]) %>

    <%= f.hidden_field :creator_id, value: @user.id %>

    <p><%= f.submit %> </p>

<% end %>


<br>

<%=link_to "Edit User", edit_user_path(@user)%>
<%=link_to "Delete User", user_path(@user), :method => :delete%>

