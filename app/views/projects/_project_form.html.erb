<%=render partial: "shared/error_messages", locals: {new_object: @project}%>

<%= form_for @project do |f| %>
    <%= f.label :name %>
    <%= f.text_field :name %>

    <%= f.label :start_date %>
    <%= f.date_field :start_date %>
    <%= f.label :end_date %>
    <%= f.date_field :end_date %>

    <%= f.label :status %>
    <%= f.select :status, options_for_select(["Planned", "In Progress", "Complete"]) %>

    <%= f.label :description %>
    <%= f.text_field :description %>

    <%= f.label :team %>
    <%= f.collection_select(:team_id, Team.all, :id, :name) %>


    <h4>Tasks:</h4>

    <% 3.times { %>
    <%=  f.fields_for :tasks do |t| %>
        <div>
        <%= t.label :description %>
        <%= t.text_field :description %>
    
        <%= t.label :due_date %>
        <%= t.date_field :due_date %>

        <%= t.hidden_field :project_id, value: @project.id %>
    
        <%= t.label :assigned_to %>
        <%= t.collection_select(:assignee_id, User.all, :id, :name) %>
    
        <%= t.label :priority %>
        <%= t.select :priority, options_for_select([ "LOW", "MEDIUM", "HIGH"]) %>
    
        <%= t.label :status %>
        <%= t.select :status, options_for_select([ "Planned", "In Progress", "Complete"]) %>
    
        </div>
    <% end %>
    <% } %> 

    <%= f.submit %> 
<% end %>
